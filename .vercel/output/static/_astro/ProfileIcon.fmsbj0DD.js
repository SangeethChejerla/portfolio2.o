import{j as s}from"./jsx-runtime.B1YlcU0w.js";import{r as o}from"./index.BiFHKRHA.js";import{c as C,P as u,u as _,a as v}from"./index.YD8_icbL.js";import{c as m}from"./index.Dve5_t-8.js";import"./index.-PMHX8bj.js";var f="Avatar",[b,q]=C(f),[E,p]=b(f),A=o.forwardRef((a,t)=>{const{__scopeAvatar:e,...r}=a,[n,i]=o.useState("idle");return s.jsx(E,{scope:e,imageLoadingStatus:n,onImageLoadingStatusChange:i,children:s.jsx(u.span,{...r,ref:t})})});A.displayName=f;var x="AvatarImage",h=o.forwardRef((a,t)=>{const{__scopeAvatar:e,src:r,onLoadingStatusChange:n=()=>{},...i}=a,d=p(x,e),l=k(r),c=_(g=>{n(g),d.onImageLoadingStatusChange(g)});return v(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(u.img,{...i,ref:t,src:r}):null});h.displayName=x;var w="AvatarFallback",N=o.forwardRef((a,t)=>{const{__scopeAvatar:e,delayMs:r,...n}=a,i=p(w,e),[d,l]=o.useState(r===void 0);return o.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),d&&i.imageLoadingStatus!=="loaded"?s.jsx(u.span,{...n,ref:t}):null});N.displayName=w;function k(a){const[t,e]=o.useState("idle");return v(()=>{if(!a){e("error");return}let r=!0;const n=new window.Image,i=d=>()=>{r&&e(d)};return e("loading"),n.onload=i("loaded"),n.onerror=i("error"),n.src=a,()=>{r=!1}},[a]),t}var S=A,j=h,L=N;const y=o.forwardRef(({className:a,...t},e)=>s.jsx(S,{ref:e,className:m("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));y.displayName=S.displayName;const I=o.forwardRef(({className:a,...t},e)=>s.jsx(j,{ref:e,className:m("aspect-square h-full w-full",a),...t}));I.displayName=j.displayName;const R=o.forwardRef(({className:a,...t},e)=>s.jsx(L,{ref:e,className:m("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));R.displayName=L.displayName;function B(){return s.jsxs(y,{children:[s.jsx(I,{src:"https://github.com/shadcn.png",alt:"@shadcn",className:""}),s.jsx(R,{children:"CN"})]})}export{B as default};
